#!/bin/bash
source ~/anaconda3/etc/profile.d/conda.sh
conda activate oscar

python train_finetune.py --do_test --do_eval --test_split test --num_captions_per_img_val 5 --data_dir /media/nicola/SSD/OSCAR_Datasets/coco_ir --img_feat_file /media/nicola/SSD/OSCAR_Datasets/coco_ir/coco_2014_train_val/model_0060000/features.tsv --eval_img_keys_file /media/nicola/SSD/OSCAR_Datasets/coco_ir/test_img_keys_1k.tsv --cross_image_eval --per_gpu_eval_batch_size 64 --eval_model_dir /media/nicola/SSD/OSCAR_Datasets/checkpoint-0132780 --config configs/alignment_no-depth-aggreg_tern-transfer_distill_2layers.yaml --logger_name runs/FINAL/TRANSF_LEARN/teran_transfer_from_oscar_depth-aggregation-none_NEWARCH_transferred_0teran_2tern_distill --val_step 7000 --max_seq_length 45 --max_img_seq_length 34 --load-teacher-model runs/FINAL/DEPTH_AGGR/teran_transfer_from_oscar_depth-aggregation-none_NEWARCH_only-alignment_0teran_1tern/model_best_rsum.pth.tar --num_epochs 15
python train_finetune.py --do_test --do_eval --test_split test --num_captions_per_img_val 5 --data_dir /media/nicola/SSD/OSCAR_Datasets/coco_ir --img_feat_file /media/nicola/SSD/OSCAR_Datasets/coco_ir/coco_2014_train_val/model_0060000/features.tsv --eval_img_keys_file /media/nicola/SSD/OSCAR_Datasets/coco_ir/test_img_keys_1k.tsv --cross_image_eval --per_gpu_eval_batch_size 64 --eval_model_dir /media/nicola/SSD/OSCAR_Datasets/checkpoint-0132780 --config configs/alignment_no-depth-aggreg_tern-transfer_distill_4layers.yaml --logger_name runs/FINAL/TRANSF_LEARN/teran_transfer_from_oscar_depth-aggregation-none_NEWARCH_transferred_0teran_4tern_distill --val_step 7000 --max_seq_length 45 --max_img_seq_length 34 --load-teacher-model runs/FINAL/DEPTH_AGGR/teran_transfer_from_oscar_depth-aggregation-none_NEWARCH_only-alignment_0teran_1tern/model_best_rsum.pth.tar --num_epochs 15